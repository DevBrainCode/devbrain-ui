{# ----------------- DevBrain Component : Media - Settings ------------------ #}
{# -------------------------------------------------------------------------- #}

{# Private properties #}
{% set _preloader   = ['auto', 'metadata', 'none'] %}
{% set _attr        = attr|default({}) %}
{% set _attr        = _attr|merge({class: ''}) %}
{% set _attr        = _add_attribute(_attr, 'class', _attr.class ~' media media-video') %}

{# Public properties #}
{% set _class       = class|default('') %}
{% set _type        = type|default('image') %}
{% set _legend      = legend|default('') %}
{% set _source      = source|default([]) %}
{% set _inline      = inline|default('no') %}
{% set _controls    = controls|default('no') %}
{% set _autoplay    = autoplay|default('no') %}
{% set _loop        = loop|default('no') %}
{% set _muted       = muted|default('no') %}
{% set _preload     = preload|default('') %}
{% set _poster      = poster|default('') %}
{% set _placeholder = placeholder|default('Your browser does not support the video element.') %}



{# ------------------- DevBrain Component : Media - Attr -------------------- #}
{# -------------------------------------------------------------------------- #}

{# Inline media #}
{% if _inline == "yes" %}
{% set _attr = _add_attribute(_attr, 'class', _attr.class ~' media-inline') %}
{% endif %}

{# Add custom class #}
{% set _attr = _add_attribute(_attr, 'class', _attr.class ~' ' ~ _class) %}



{# ------------------ DevBrain Component : Media - Content ------------------ #}
{# -------------------------------------------------------------------------- #}
<figure {{ _get_attributes(_attr) }}>

    {% component 'media' part 'video' with {
        class         : _class,
        legend        : _legend,
        source        : _source,
        inline        : _inline,
        controls      : _controls,
        autoplay      : _autoplay,
        loop          : _loop,
        muted         : _muted,
        preload       : _preload,
        poster        : _poster,
    } %}

    {% if _legend is not empty %}
    {% component 'media' part 'caption' with {
        legend: _legend
    } %}
    {% endif %}

</figure>